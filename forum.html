<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anonymous Forum - Hostel Wellness</title>
<style>
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(135deg, #f0f9f0, #e0f7f1);
    margin: 0;
    padding: 20px;
  }

  h1 {
    text-align: center;
    color: #2e7d32;
    margin-bottom: 25px;
  }

  .forum-card {
    background: #ffffffdd;
    border-radius: 16px;
    padding: 20px;
    max-width: 800px;
    margin: 20px auto;
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  }

  input, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-family: "Poppins", sans-serif;
    font-size: 1rem;
    box-sizing: border-box;
  }

  button {
    background: #2e7d32;
    color: white;
    border: none;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover {
    background: #1b5e20;
  }

  .thread {
    border-bottom: 1px solid #ddd;
    padding: 12px 0;
  }

  .thread p {
    margin: 6px 0;
  }

  .reply-section {
    margin-left: 15px;
    margin-top: 8px;
  }

  .reply {
    background: #f1f8e9;
    padding: 8px;
    margin-bottom: 6px;
    border-radius: 8px;
  }

  /* Go back button */
  .back-btn {
    display: inline-block;
    margin-bottom: 15px;
    padding: 10px 18px;
    border-radius: 10px;
    background: #388e3c;
    color: #fff;
    text-decoration: none;
    font-weight: 600;
    transition: 0.2s;
  }

  .back-btn:hover {
    background: #1b5e20;
  }
</style>
</head>
<body>

<a href="dashboard.html" class="back-btn">â¬… Go Back to Dashboard</a>

<h1>ðŸ’¬ Anonymous Forum</h1>

<div class="forum-card">
  <h2>Post a Problem / Doubt</h2>
  <form id="postForm">
    <textarea id="postContent" rows="3" placeholder="Write your problem or doubt anonymously..." required></textarea>
    <button type="submit">Post</button>
  </form>
</div>

<div class="forum-card">
  <h2>Forum Threads</h2>
  <div id="threadsList">
    <!-- Threads will appear here -->
  </div>
</div>

<script>
  let threads = JSON.parse(localStorage.getItem('forumThreads')) || [];

  const threadsList = document.getElementById('threadsList');
  const postForm = document.getElementById('postForm');
  const postContent = document.getElementById('postContent');

  function saveThreads() {
    localStorage.setItem('forumThreads', JSON.stringify(threads));
  }

  function renderThreads() {
    threadsList.innerHTML = '';
    threads.forEach((thread, idx) => {
      const div = document.createElement('div');
      div.className = 'thread';
      div.innerHTML = `
        <p><strong>Anonymous:</strong> ${thread.content}</p>
        <div class="reply-section" id="replySection${idx}">
          ${thread.replies.map(r => `<div class="reply"><strong>Reply:</strong> ${r}</div>`).join('')}
          <textarea rows="2" placeholder="Write a reply..." id="replyInput${idx}"></textarea>
          <button onclick="addReply(${idx})">Reply</button>
        </div>
      `;
      threadsList.appendChild(div);
    });
  }

  function addReply(index) {
    const input = document.getElementById(`replyInput${index}`);
    const replyText = input.value.trim();
    if(replyText === '') return alert('Please type a reply!');
    threads[index].replies.push(replyText);
    saveThreads();
    renderThreads();
  }

  postForm.addEventListener('submit', e => {
    e.preventDefault();
    const content = postContent.value.trim();
    if(content === '') return alert('Please type something!');
    threads.push({content: content, replies: []});
    saveThreads();
    renderThreads();
    postContent.value = '';
  });

  // Initial render
  renderThreads();
</script>

</body>
</html>
